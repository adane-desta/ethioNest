import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                        */const m="http://localhost:5200/api",c=document.getElementById("togglePassword"),l=document.getElementById("password");c&&l&&c.addEventListener("click",function(){const e=l.getAttribute("type")==="password"?"text":"password";l.setAttribute("type",e),this.classList.toggle("fa-eye-slash");const t=e==="password"?"Show password":"Hide password";this.setAttribute("aria-label",t)});const r=document.getElementById("loginForm");r&&r.addEventListener("submit",async e=>{e.preventDefault();const t=r.querySelector('button[type="submit"]'),g=t.innerHTML;t.innerHTML='<span class="button-loader"></span> Logging in...',t.disabled=!0;try{const o=document.getElementById("email").value.trim(),s=document.getElementById("password").value;if(!o||!s)throw new Error("Please fill in all fields");if(!/^\S+@\S+\.\S+$/.test(o))throw new Error("Please enter a valid email address");const a=await fetch(`${m}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:s})});if(!a.ok){const f=await a.json();throw new Error(f.error||"Login failed. Please try again.")}const n=await a.json();if(!n)throw new Error("Invalid user data received");localStorage.setItem("activeUser",JSON.stringify(n)),await Swal.fire({icon:"success",title:"Login Successful!",text:`Welcome back, ${n.firstname||"User"}!`,showConfirmButton:!1,timer:1500});let i;switch(n.role){case"tenant":i="/homepage.html";break;case"owner":i="/owner.html";break;case"admin":i="/admin.html";break;default:throw new Error("Unknown user role")}window.location.href=i}catch(o){await Swal.fire({icon:"error",title:"Login Failed",text:o.message,confirmButtonColor:"#3085d6"}),document.getElementById("password").value=""}finally{t.innerHTML=g,t.disabled=!1}});const d=document.querySelector(".social-btn.google"),w=document.querySelector(".social-btn.facebook");d&&d.addEventListener("click",async function(){const e=Swal.fire({title:"Redirecting to Google",allowOutsideClick:!1,didOpen:()=>Swal.showLoading()});try{console.log("Google login clicked"),await Swal.fire({icon:"info",title:"Coming Soon",text:"Google login will be available soon",confirmButtonColor:"#3085d6"})}finally{e.close()}});w&&w.addEventListener("click",async function(){const e=Swal.fire({title:"Redirecting to Facebook",allowOutsideClick:!1,didOpen:()=>Swal.showLoading()});try{console.log("Facebook login clicked"),await Swal.fire({icon:"info",title:"Coming Soon",text:"Facebook login will be available soon",confirmButtonColor:"#3085d6"})}finally{e.close()}});

import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                        */const w="http://localhost:5200/api",a=document.getElementById("tenantBtn"),s=document.getElementById("ownerBtn"),u=document.querySelector(".role-toggle"),d=document.getElementById("signupForm");let r="";a.addEventListener("click",()=>{r="tenant",u.classList.remove("owner-active"),a.classList.add("active"),s.classList.remove("active")});s.addEventListener("click",()=>{r="owner",u.classList.add("owner-active"),s.classList.add("active"),a.classList.remove("active")});const v=document.getElementById("profileImage"),i=document.getElementById("profilePreview");v.addEventListener("change",function(){const t=this.files[0];if(t){if(t.size>2*1024*1024){Swal.fire({icon:"error",title:"Image too large",text:"Please select an image smaller than 2MB",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.value="";return}if(!t.type.match("image.*")){Swal.fire({icon:"error",title:"Invalid file type",text:"Please select an image file (JPEG, PNG, etc.)",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.value="";return}const n=new FileReader;n.addEventListener("load",function(){i.style.display="block",i.setAttribute("src",this.result),i.nextElementSibling&&(i.nextElementSibling.style.display="none")}),n.readAsDataURL(t)}});d.addEventListener("submit",async t=>{if(t.preventDefault(),!r){await Swal.fire({icon:"error",title:"Role Required",text:"Please select whether you are a tenant or owner",confirmButtonColor:"#3085d6"});return}const n=document.getElementById("password").value,p=document.getElementById("confirmPassword").value;if(n!==p){await Swal.fire({icon:"error",title:"Password Mismatch",text:"Your passwords do not match",confirmButtonColor:"#3085d6"});return}if(n.length<8){await Swal.fire({icon:"error",title:"Weak Password",text:"Password must be at least 8 characters long",confirmButtonColor:"#3085d6"});return}const o=d.querySelector('button[type="submit"]'),f=o.innerHTML;o.innerHTML='<span class="button-loader"></span> Registering...',o.disabled=!0;try{const e=new FormData;e.append("firstname",document.getElementById("firstName").value.trim()),e.append("lastname",document.getElementById("lastName").value.trim()),e.append("email",document.getElementById("email").value.trim()),e.append("phone",document.getElementById("phone").value.trim()),e.append("password",n),e.append("bio",document.getElementById("bio").value.trim()||""),e.append("preferredLocation",document.getElementById("preferredLocation").value.trim()||""),e.append("role",r);const l=document.getElementById("profileImage").files[0];l&&e.append("profileImage",l);const c=await fetch(`${w}/signup`,{method:"POST",body:e});if(!c.ok){const g=await c.json();throw new Error(g.error||"Registration failed")}await Swal.fire({icon:"success",title:"Registration Successful!",text:"You have successfully registered",showConfirmButton:!1,timer:2e3}),setTimeout(()=>{window.location.href="./login.html"},2e3)}catch(e){await Swal.fire({icon:"error",title:"Registration Failed",text:e.message,confirmButtonColor:"#3085d6"})}finally{o.innerHTML=f,o.disabled=!1}});const m=document.getElementById("phone");m&&m.addEventListener("input",function(t){this.value=this.value.replace(/[^0-9+]/g,"")});
